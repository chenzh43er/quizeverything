<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quizeverything</title>
  <meta http-equiv="Access-Control-Allow-Origin" content="*">
  <link rel="stylesheet" href="./testname/css/one.css">
  <link rel="stylesheet" href="./testname/css/common.css">
  <script src="./testname/js/jquery.min.js?V=20200214"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3481735481590354"
          crossorigin="anonymous"></script>
  <script src="./testname/js/google_adv.js"></script>
<!--  <script src="./testname/js/PageJsEn/list.js"></script>-->

<!--  &lt;!&ndash; Google Tag Manager &ndash;&gt;-->
<!--  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':-->
<!--            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],-->
<!--          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=-->
<!--          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);-->
<!--  })(window,document,'script','dataLayer','GTM-5G9MGKZV');</script>-->
<!--  &lt;!&ndash; End Google Tag Manager &ndash;&gt;-->

<!--  &lt;!&ndash; Google Tag Manager (noscript) &ndash;&gt;-->
<!--  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5G9MGKZV"-->
<!--                    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>-->
<!--  &lt;!&ndash; End Google Tag Manager (noscript) &ndash;&gt;-->

  <style>
    .quiz_home-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
      box-sizing: border-box;
    }

    .center-common {
    }

    .container-next-btn {
      margin: 40px auto 0;
    }

    .mid_adv{
      width: 100%;
      height: auto;
    }

    .tempTitle {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .tempTitle img {
      width: 40px;
      margin: 0 20px;
      height: 15px;
    }

    .container-list-item-warp{
      transition-duration: 0.3s;
      transform: scale(1);
    }


    @media screen and (max-width: 768px) {
      .mostPopular >a {
        width: 100%
      }

      .theLatest >a {
        width: 100%
      }

      .youMayLike >a {
        width: 100%
      }
    }

    @media screen and (max-width: 450px) {
      .adsbygoogle {
        width:350px !important;
      }

      .tempTitle {
        text-align: center;
        font-size: 20px;
        display: flex !important;
        justify-content: center;
        align-items: center;
      }

      .tempTitle img {
        width: 40px;
        margin: 0 20px;
        height: 15px;
      }
    }

  </style>

  <link rel="icon" type="image/png" href="./testname/img/title.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="./testname/img/icon/favicon.svg" />
  <link rel="shortcut icon" href="./testname/img/icon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="./testname/img/icon/apple-touch-icon.png" />
  <link rel="manifest" href="./testname/img/icon/site.webmanifest" />

</head>

<body>
<div data-elementor-type="header" data-elementor-id="13" class="elementor elementor-13 elementor-location-header" id = "content_for_header"
     data-elementor-post-type="elementor_library">
  <section
          class="elementor-section elementor-top-section elementor-element elementor-element-50d24b9 elementor-section-boxed elementor-section-height-default elementor-section-height-default"
          data-id="50d24b9" data-element_type="section"
          data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
    <div class="elementor-container elementor-column-gap-default">
      <div class="elementor-column elementor-col-16 elementor-top-column elementor-element elementor-element-501690e"
           data-id="501690e" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-5daaf45 elementor-widget-mobile__width-initial elementor-widget elementor-widget-html"
               data-id="5daaf45" data-element_type="widget" data-widget_type="html.default">
            <div class="elementor-widget-container">
              <meta charset="UTF-8">
              <title>Title</title>
              <a href="" id="picForUrlJump">
                <img src="./testname//img/title.png">
              </a>

            </div>
          </div>
        </div>
      </div>
      <div class="elementor-column elementor-col-66 elementor-top-column elementor-element elementor-element-16a4503"
           data-id="16a4503" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-20d443e elementor-nav-menu--dropdown-none elementor-nav-menu__align-end elementor-widget elementor-widget-nav-menu"
               data-id="20d443e" data-element_type="widget"
               data-settings="{&quot;layout&quot;:&quot;horizontal&quot;,&quot;submenu_icon&quot;:{&quot;value&quot;:&quot;&lt;i class=\&quot;fas fa-caret-down\&quot;&gt;&lt;\/i&gt;&quot;,&quot;library&quot;:&quot;fa-solid&quot;}}"
               data-widget_type="nav-menu.default">
            <div class="elementor-widget-container">
              <nav aria-label="Menu"
                   class="elementor-nav-menu--main elementor-nav-menu__container elementor-nav-menu--layout-horizontal e--pointer-underline e--animation-fade">
                <ul id="menu-1-20d443e" class="elementor-nav-menu"
                    data-smartmenus-id="1742717233196091">
                  <li
                          class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20">
                    <a href="https://identityinsight.org/en" class="elementor-item" id="menu_index_select">Home</a>
                  </li>
                </ul>
              </nav>
              <nav class="elementor-nav-menu--dropdown elementor-nav-menu__container"
                   aria-hidden="true">
                <ul id="menu-2-20d443e" class="elementor-nav-menu"
                    data-smartmenus-id="17427172331972703">
                  <li
                          class="menu-item menu-item-type-custom menu-item-object-custom menu-item-20">
                    <a href="https://identityinsight.org/en" class="elementor-item"
                       tabindex="-1">Home</a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
      <div class="elementor-column elementor-col-16 elementor-top-column elementor-element elementor-element-09bb139"
           data-id="09bb139" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-84f1249 elementor-widget__width-initial elementor-widget elementor-widget-elementskit-header-search"
               data-id="84f1249" data-element_type="widget"
               data-widget_type="elementskit-header-search.default">
            <div class="elementor-widget-container">
              <div class="ekit-wid-con"> <a href="#ekit_modal-popup-84f1249"
                                            class="ekit_navsearch-button ekit-modal-popup" aria-label="navsearch-button">
                <i aria-hidden="true" class="icon icon-search"></i> </a>
                <!-- language switcher strart -->
                <!-- xs modal -->
                <div class="zoom-anim-dialog mfp-hide ekit_modal-searchPanel"
                     id="ekit_modal-popup-84f1249">
                  <div class="ekit-search-panel">
                    <!-- Polylang search - thanks to Alain Melsens -->
                    <form role="search" method="get" class="ekit-search-group"
                          action="https://identityinsight.org/en_us">
                      <input type="search" class="ekit_search-field" aria-label="search-form"
                             placeholder="Search..." value="" name="s">
                      <button type="submit" class="ekit_search-button"
                              aria-label="search-button">
                        <i aria-hidden="true" class="icon icon-search"></i> </button>
                    </form>
                  </div>
                </div><!-- End xs modal -->
                <!-- end language switcher strart -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="quiz_home-container" id="pc_indexpage" style="margin-top: 10px;" id = "content_for_page">

  <div class="tempTitle tempTitle1">
    <img src="./testname/img/title_ornament_left.png" alt="" fetchpriority="high">
    <span id="title_mp"></span><img src="./testname/img/title_ornament_right.png" alt="" fetchpriority="high">
  </div>
  <div id="indexadv_1" class = "mid_adv">
  </div>
  <div class="container-list center-common mostPopular">
  </div>
  <div class="tempTitle tempTitle2">
    <img src="./testname/img/title_ornament_left.png" alt="">
    <span id="title_lt"></span><img src="./testname/img/title_ornament_right.png" alt="">
  </div>
  <div id="indexadv_2" class = "mid_adv">
  </div>
  <div class="container-list center-common theLatest">
  </div>
  <div class="tempTitle">
    <img src="./testname/img/title_ornament_left.png" alt="">
    <span id="title_yml"></span><img src="./testname/img/title_ornament_right.png" alt="">
  </div>
  <div id="indexadv_3" class = "mid_adv">
  </div>
  <div class="container-list center-common youMayLike">
  </div>

  <div data-page="home" class="container-next-btn">
    <a href="javascript:;" class="nextbtn btn" id="nextPageButton">Next</a>
  </div>
</div></div>

<div data-elementor-type="footer" data-elementor-id="197" class="elementor elementor-197 elementor-location-footer" id = "content_for_footer"
     data-elementor-post-type="elementor_library">
  <section
          class="elementor-section elementor-top-section elementor-element elementor-element-9e00932 elementor-section-boxed elementor-section-height-default elementor-section-height-default"
          data-id="9e00932" data-element_type="section"
          data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
    <div class="elementor-container elementor-column-gap-default">
      <div class="elementor-column elementor-col-33 elementor-top-column elementor-element elementor-element-36c843f"
           data-id="36c843f" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-b97e7fa elementor-widget elementor-widget-heading"
               data-id="b97e7fa" data-element_type="widget" data-widget_type="heading.default">
            <div class="elementor-widget-container">
              <h2 class="elementor-heading-title elementor-size-default">Subscribe For New Quizzes
              </h2>
            </div>
          </div>
          <div class="elementor-element elementor-element-19c50eb elementor-button-align-stretch elementor-widget elementor-widget-form"
               data-id="19c50eb" data-element_type="widget"
               data-settings="{&quot;step_next_label&quot;:&quot;Next&quot;,&quot;step_previous_label&quot;:&quot;Previous&quot;,&quot;button_width&quot;:&quot;100&quot;,&quot;step_type&quot;:&quot;number_text&quot;,&quot;step_icon_shape&quot;:&quot;circle&quot;}"
               data-widget_type="form.default">
            <div class="elementor-widget-container">
              <form class="elementor-form" method="post" name="New Form">
                <input type="hidden" name="post_id" value="197">
                <input type="hidden" name="form_id" value="19c50eb">
                <input type="hidden" name="referer_title" value="">

                <input type="hidden" name="queried_id" value="9">

                <div class="elementor-form-fields-wrapper elementor-labels-">
                  <div
                          class="elementor-field-type-email elementor-field-group elementor-column elementor-field-group-email elementor-col-100 elementor-field-required">
                    <label for="form-field-email"
                           class="elementor-field-label elementor-screen-only">
                      Email </label>
                    <input size="1" type="email" name="form_fields[email]" id="form-field-email"
                           class="elementor-field elementor-size-sm  elementor-field-textual"
                           placeholder="Email" required="required">
                  </div>
                  <div
                          class="elementor-field-group elementor-column elementor-field-type-submit elementor-col-100 e-form__buttons">
                    <button class="elementor-button elementor-size-sm" type="submit">
                                                <span class="elementor-button-content-wrapper">
                                                    <span class="elementor-button-text">Sign Up</span>
                                                </span>
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <div class="elementor-column elementor-col-33 elementor-top-column elementor-element elementor-element-71a9600"
           data-id="71a9600" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-4580ce7 elementor-icon-list--layout-inline elementor-align-center elementor-list-item-link-full_width elementor-widget elementor-widget-icon-list"
               data-id="4580ce7" data-element_type="widget" data-widget_type="icon-list.default">
            <div class="elementor-widget-container">
              <ul class="elementor-icon-list-items elementor-inline-items">
                <li class="elementor-icon-list-item elementor-inline-item">
                  <a href="" id="abount_us_link">
                    <span class="elementor-icon-list-text">About Us</span>
                  </a>
                </li>
                <li class="elementor-icon-list-item elementor-inline-item">
                  <a href="" id="privacy_link">
                    <span class="elementor-icon-list-text"> Privacy Policy</span>
                  </a>
                </li>
                <li class="elementor-icon-list-item elementor-inline-item">
                  <a href="" id="data_link">
                    <span class="elementor-icon-list-text">Data Removal</span>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <div class="elementor-element elementor-element-ab0a714 elementor-widget elementor-widget-heading"
               data-id="ab0a714" data-element_type="widget" data-widget_type="heading.default">
            <div class="elementor-widget-container">
              <p class="elementor-heading-title elementor-size-default">Copyright © 2025 | All rights
                reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
      <div class="elementor-column elementor-col-33 elementor-top-column elementor-element elementor-element-bc2eed8"
           data-id="bc2eed8" data-element_type="column">
        <div class="elementor-widget-wrap elementor-element-populated">
          <div class="elementor-element elementor-element-e8b89d1 e-grid-align-right e-grid-align-mobile-center elementor-shape-rounded elementor-grid-0 elementor-widget elementor-widget-social-icons"
               data-id="e8b89d1" data-element_type="widget" data-widget_type="social-icons.default">
            <div class="elementor-widget-container">
              <div class="elementor-social-icons-wrapper elementor-grid">
                                    <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-facebook elementor-repeater-item-a8f7d9b"
                                           target="_blank">
                                            <span class="elementor-screen-only">Facebook</span>
                                            <i class="fab fa-facebook"></i> </a>
                                    </span>
                <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-pinterest elementor-repeater-item-cf3ccf1"
                                           target="_blank">
                                            <span class="elementor-screen-only">Pinterest</span>
                                            <i class="fab fa-pinterest"></i> </a>
                                    </span>
                <span class="elementor-grid-item">
                                        <a class="elementor-icon elementor-social-icon elementor-social-icon-youtube elementor-repeater-item-cd914b5"
                                           target="_blank">
                                            <span class="elementor-screen-only">Youtube</span>
                                            <i class="fab fa-youtube"></i> </a>
                                    </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<script id="list_html">
  {
    let page=0
    // 渲染首页数据
    function renderHomeData(data,isM,obj_index) {
      return data.map((item,index) => {

        let utm_campaign =getQueryParam("utm_campaign") ;

        let lang =getQueryParam("lang") ;

        let testData = null;

        if(index == 0 && !isNull(utm_campaign)) {
          testData = utm_campaignData[utm_campaign]

          testData.url = testData.url.replace("https://identityinsight.org/es/test-page_es/?","./mqqht.html?lang=es&")
                  .replace("https://identityinsight.org/en/test-page_en/?","./mqqht.html?lang=en&")
                  .replace("https://identityinsight.org/fr/test-page_fr/?","./mqqht.html?lang=fr&")
                  .replace("https://identityinsight.org/pt/test-page_pt/?","./mqqht.html?lang=pt&")

          testData.url = testData.url + "&utm_campaign=" + utm_campaign

          let utm_keyword = getQueryParam("keyword") ;

          let utm_medium = getQueryParam("medium") ;

          let utm_source = getQueryParam("source") ;

          let campaign =getQueryParam("campaign") ;

          let content =getQueryParam("content") ;

          if(!isNull(utm_source)){
            testData.url = testData.url + "&source=" +utm_source;
          }

          if(!isNull(utm_keyword)){
            testData.url = testData.url + "&keyword=" +utm_keyword;
          }

          if(!isNull(utm_medium)){
            testData.url = testData.url + "&medium=" +utm_medium;
          }

          if(!isNull(campaign)){
            testData.url = testData.url + "&campaign=" +campaign;
          }

          if(!isNull(content)){
            testData.url = testData.url + "&content=" +content;
          }
        }

        if(index == 0 && !isNull(testData) && isM == 0){

          testData.pic = testData.pic
                  .replace("gif","png").replace("https://identityinsight.org/testCommon4","./testname")
                  .replace("https://identityinsight.org/testCommon4","./testname")
                  .replace("https://identityinsight.org/testCommon5","./testname")
                  .replace("https://identityinsight.org/testCommon6","./testname")
                  .replace("https://identityinsight.org/testCommon7","./testname")
                  .replace("https://identityinsight.org/testCommon8","./testname")
                  .replace("https://identityinsight.org/testCommon9","./testname")

          let utm_keyword = getQueryParam("keyword") ;

          let utm_medium = getQueryParam("medium") ;

          let utm_source = getQueryParam("source") ;

          let campaign =getQueryParam("campaign") ;

          let content =getQueryParam("content") ;

          if(!isNull(utm_source)){
            testData.url = testData.url + "&source=" +utm_source;
          }

          if(!isNull(utm_keyword)){
            testData.url = testData.url + "&keyword=" +utm_keyword;
          }

          if(!isNull(utm_medium)){
            testData.url = testData.url + "&medium=" +utm_medium;
          }

          if(!isNull(campaign)){
            testData.url = testData.url + "&campaign=" +campaign;
          }

          if(!isNull(content)){
            testData.url = testData.url + "&content=" +content;
          }


          let contentIndex0Html = `
                <a href="${testData.url}" class="container-list-item common_list_a">
                    <div class="container-list-item-warp">
                        <div class="container-list-item-img">
                            <img class="lazyimg common_three_li_img"
                                data-language="en"
                                data-src="${testData.pic}"
                                src="${testData.pic}"
                                alt="${testData.title}" loading="lazy">
                        </div>
                        <div class="container-list-item-p" style="height: 80px">
                            <p>${testData.title}</p>
                        </div>
                    </div>
                </a>
                `

          return contentIndex0Html;
        }else{

          item.url = item.url.replace("https://identityinsight.org/es/test-page_es/?","./mqqht.html?lang=es&")
                  .replace("https://identityinsight.org/en/test-page_en/?","./mqqht.html?lang=en&")
                  .replace("https://identityinsight.org/fr/test-page_fr/?","./mqqht.html?lang=fr&")
                  .replace("https://identityinsight.org/pt/test-page_pt/?","./mqqht.html?lang=pt&")

          if(item.url == "#"){
            let langPage = getQueryParam("lang")
            if(langPage == "fr"){
              item.url = "./404notFound.html?lang=fr&utm_content=other"
            }else if(langPage == "es"){
              item.url = "./404notFound.html?lang=es&utm_content=other"
            }else if(langPage == "en"){
              item.url = "./404notFound.html?lang=en&utm_content=other"
            }else if(langPage == "pt"){
              item.url = "./404notFound.html?lang=pt&utm_content=other"
            }else{
              item.url = "./404notFound.html?lang=fr&utm_content=other"
            }
            if (!isNull(utm_campaign)){
              item.url = item.url + "&utm_campaign=" + utm_campaign
            }

            let utm_keyword = getQueryParam("keyword") ;

            let utm_medium = getQueryParam("medium") ;

            let utm_source = getQueryParam("source") ;

            let campaign =getQueryParam("campaign") ;

            let content =getQueryParam("content") ;

            if(!isNull(utm_source)){
              testData.url = testData.url + "&source=" +utm_source;
            }

            if(!isNull(utm_keyword)){
              testData.url = testData.url + "&keyword=" +utm_keyword;
            }

            if(!isNull(utm_medium)){
              testData.url = testData.url + "&medium=" +utm_medium;
            }

            if(!isNull(campaign)){
              testData.url = testData.url + "&campaign=" +campaign;
            }

            if(!isNull(content)){
              testData.url = testData.url + "&content=" +content;
            }

          }else if (!isNull(utm_campaign)){
            item.url = item.url + "&utm_campaign=" + utm_campaign

            let utm_keyword = getQueryParam("keyword") ;

            let utm_medium = getQueryParam("medium") ;

            let utm_source = getQueryParam("source") ;

            let campaign =getQueryParam("campaign") ;

            let content =getQueryParam("content") ;

            if(!isNull(utm_source)){
              item.url = item.url + "&source=" +utm_source;
            }

            if(!isNull(utm_keyword)){
              item.url = item.url + "&keyword=" +utm_keyword;
            }

            if(!isNull(utm_medium)){
              item.url = item.url + "&medium=" +utm_medium;
            }

            if(!isNull(campaign)){
              item.url = item.url + "&campaign=" +campaign;
            }

            if(!isNull(content)){
              item.url = item.url + "&content=" +content;
            }

          }else{
            let utm_keyword = getQueryParam("keyword") ;

            let utm_medium = getQueryParam("medium") ;

            let utm_source = getQueryParam("source") ;

            let campaign =getQueryParam("campaign") ;

            let content =getQueryParam("content") ;

            if(!isNull(utm_source)){
              item.url = item.url + "&source=" +utm_source;
            }

            if(!isNull(utm_keyword)){
              item.url = item.url + "&keyword=" +utm_keyword;
            }

            if(!isNull(utm_medium)){
              item.url = item.url + "&medium=" +utm_medium;
            }

            if(!isNull(campaign)){
              item.url = item.url + "&campaign=" +campaign;
            }

            if(!isNull(content)){
              item.url = item.url + "&content=" +content;
            }
          }

          item.pic = item.pic.replace("gif","png")
                  .replace("https://identityinsight.org/testCommon4","./testname")
                  .replace("https://identityinsight.org/testCommon5","./testname")
                  .replace("https://identityinsight.org/testCommon6","./testname")
                  .replace("https://identityinsight.org/testCommon7","./testname")
                  .replace("https://identityinsight.org/testCommon8","./testname")
                  .replace("https://identityinsight.org/testCommon9","./testname")

          let contentOtherHtml = ``;

          if(obj_index != 1){
            contentOtherHtml = `
                <a href="${item.url}" class="container-list-item common_list_a">
                    <div class="container-list-item-warp">
                        <div class="container-list-item-img">
                            <img class="lazyimg common_three_li_img"
                                data-language="en"
                                data-src="${item.pic}"
                                src="${item.pic}"
                                alt="${item.title}" loading="lazy">
                        </div>
                        <div class="container-list-item-p" style="height: 80px">
                            <p>${item.title}</p>
                        </div>
                    </div>
                </a>
                `;
          }else{
            contentOtherHtml = `
                <a href="${item.url}" class="container-list-item common_list_a">
                    <div class="container-list-item-warp">
                        <div class="container-list-item-img">
                            <img class="lazyimg common_three_li_img"
                                data-language="en"
                                data-src="${item.pic}"
                                src="${item.pic}"
                                alt="${item.title}" fetchpriority="high">
                        </div>
                        <div class="container-list-item-p" style="height: 80px">
                            <p>${item.title}</p>
                        </div>
                    </div>
                </a>
                `;
          }


          let advHtml = '<div class="container-list-item-warp" style="transition-duration: 0.3s; transform: scale(1);width: 30%">' +
                  returnADhtml()+
                  '</div>';

          if(index == 1){
            contentOtherHtml = contentOtherHtml + advHtml
          }

          return contentOtherHtml;
        }
      }).join('');
    }

    function isNull(value) {
      return value === null;
    }

    function returnADhtml(){
      let advHtml = returnADV_Block();
      return advHtml;
    }

    function initHomeData() {
      // 渲染首页数据
      page = Number(getQueryParam("page")) ;
      if(page==0){

        document.getElementById('indexadv_1').innerHTML= returnADhtml();
        document.getElementById('indexadv_2').innerHTML= returnADhtml();
        document.getElementById('indexadv_3').innerHTML= returnADhtml();

        document.querySelector('.mostPopular').innerHTML = renderHomeData(dataPage.mostPopular,0,1);
        setTimeout(function(){return},200);
        (adsbygoogle = window.adsbygoogle || []).push({});
        document.querySelector('.theLatest').innerHTML = renderHomeData(dataPage.theLatest,1,0);
        setTimeout(function(){return},200);
        (adsbygoogle = window.adsbygoogle || []).push({});
        document.querySelector('.youMayLike').innerHTML = renderHomeData(dataPage.youMaylike,1,0);
        setTimeout(function(){return},200);
        (adsbygoogle = window.adsbygoogle || []).push({});
      }else{
        document.getElementById('indexadv_3').innerHTML= returnADhtml();
        document.querySelector('.mostPopular').style.display = 'none';
        document.querySelector('.theLatest').style.display = 'none';
        document.querySelector('.tempTitle1').style.display = 'none';
        document.querySelector('.tempTitle2').style.display = 'none';

        document.getElementById('indexadv_1').style.display='none';
        document.getElementById('indexadv_2').style.display='none';

        document.querySelector('.youMayLike').innerHTML = renderHomeData(dataPage.youMaylike,1);
        setTimeout(function(){return},200);
        (adsbygoogle = window.adsbygoogle || []).push({});
      }
    }

    function getQueryParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    function getLangFromPath() {
      const pathSegments = window.location.pathname.split("/");
      return pathSegments[1] || "default"; // 语言通常是路径的第一部分
    }

    function initTitleIndex(){
      let langPage = getQueryParam("lang");
      if(langPage == "fr"){
        document.getElementById("title_mp").innerText="Populaires";
        document.getElementById("title_lt").innerText="Récents";
        document.getElementById("title_yml").innerHTML=`<div>Vous aimerez<br/> peut-être</div>`;
        //console.log("fr");
      }else if(langPage == "es"){
        document.getElementById("title_mp").innerText="Más populares";
        document.getElementById("title_lt").innerText="Nuevo";
        document.getElementById("title_yml").innerText="Te podría gustar";
        //console.log("es");
      }else if(langPage == "pt"){
        document.getElementById("title_mp").innerText="Mais Popular";
        document.getElementById("title_lt").innerText="RECENTE";
        document.getElementById("title_yml").innerText="Você pode gostar";
        //console.log("pt");
      }
      else{
        document.getElementById("title_mp").innerText="Most Popular";
        document.getElementById("title_lt").innerText="The Latest";
        document.getElementById("title_yml").innerText=`You May Like`;
        //console.log("en");
      }
    }

    function loadScript(src, callback) {
      let script = document.createElement("script");
      script.src = src;
      script.type = "text/javascript";
      script.async = true;

      script.onload = function () {
        //console.log(`${src} 加载完成`);
        if (callback) callback(); // 加载完成后执行回调函数
      };

      script.onerror = function () {
        //console.error(`${src} 加载失败`);
      };

      document.head.appendChild(script); // 插入到 `head` 中
    }

    function deleteCurrentPathCookies() {
      const cookies = document.cookie.split(";");

      cookies.forEach(cookie => {
        const cookieName = cookie.split("=")[0].trim();
        // 删除当前路径下的 cookie
        document.cookie = cookieName + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=" + window.location.pathname;
      });
    }

    function getReferrerParams() {
      let referrer = document.referrer; // 获取上一级页面的 URL
      if (!referrer) return null; // 如果没有来源页面，则返回 null

      let url = new URL(referrer); // 解析 URL
      let params = new URLSearchParams(url.search); // 获取查询参数

      let paramObj = {};
      for (let [key, value] of params.entries()) {
        paramObj[key] = value;
      }
      return paramObj;
    }

    function initFunctionForPage(){
      initTitleIndex();
      initHomeData();

      $('.nextbtn').on('click', function () {

        if(!Number.isInteger(page)){
          page = 1;
        }else{
          page=parseInt(getQueryParam("page")) + 1;
        }
        //window.location.href = `./index.html?page=` + page;
        window.location.href = "#"
      });
    }


    // 页面加载完成后初始化
    $(document).ready(function () {

      let homedataJs = "https://min1-b8s.pages.dev/public/js/fr/homedata.js";
      let utm_campaign_js_url="./testname/js/fr/utm_campaign.js"
      let langPage = getQueryParam("lang")

      if(langPage == "fr"){
        homedataJs = "./testname/js/fr/homedata.js";
        document.getElementById('nextPageButton').innerText = "Suivant";
        utm_campaign_js_url="./testname/js/fr/utm_campaign.js"
      }else if(langPage == "es"){
        homedataJs = "./testname/js/es/homedata.js";
        document.getElementById('nextPageButton').innerText = "SIGUIENTE";
        utm_campaign_js_url="./testname/js/es/utm_campaign.js"
      }else if(langPage == "pt"){
        homedataJs = "./testname/js/pt/homedata.js";
        document.getElementById('nextPageButton').innerText = "PRÓXIMO";
        utm_campaign_js_url="./testname/js/pt/utm_campaign.js"
      }else if(langPage == "en"){
        homedataJs = "./testname/js/en/homedata.js";
        document.getElementById('nextPageButton').innerText = "next";
        utm_campaign_js_url="./testname/js/en/utm_campaign.js"
      }else{
        // homedataJs = "./testname/js/en/homedata.js";
        // document.getElementById('nextPageButton').innerText = "next";
        // utm_campaign_js_url="./testname/js/en/utm_campaign.js"

        homedataJs = "./testname/js/en/homedata.js";
        document.getElementById('nextPageButton').innerText = "Suivant";
        utm_campaign_js_url="./testname/js/en/utm_campaign.js"
      }

      loadScript(homedataJs, function () {
        loadScript(utm_campaign_js_url, function () {
          deleteCurrentPathCookies();

          let utm_campaign = getQueryParam("utm_campaign");

          const paramLast = getReferrerParams();
          if (!isNull(paramLast) & isNull(utm_campaign)) {
            if (!isNull(paramLast["utm_campaign"]) & paramLast["utm_campaign"] != "undefined") {
              if (paramLast["utm_campaign"] != "undefined" & typeof paramLast["utm_campaign"] != "undefined") {
                let indexHref = ""
                if (langPage == "fr") {
                  indexHref = "./list.html?lang=fr"
                } else if (langPage == "es") {
                  indexHref = "./list.html?lang=es"
                } else if (langPage == "en") {
                  indexHref = "./list.html?lang=en"
                } else if (langPage == "pt") {
                  indexHref = "./list.html?lang=pt"
                } else {
                  indexHref = "./list.html?lang=en"
                }


                let utm_keyword = getQueryParam("keyword") ;

                let utm_medium = getQueryParam("medium") ;

                let utm_source = getQueryParam("source") ;

                if(!isNull(utm_source)){
                  indexHref = indexHref + "&source=" +utm_source;
                }

                if(!isNull(utm_keyword)){
                  indexHref = indexHref + "&keyword=" +utm_keyword;
                }

                if(!isNull(utm_medium)){
                  indexHref = indexHref + "&medium=" +utm_medium;
                }

                window.location.href = indexHref + "&utm_campaign=" + paramLast["utm_campaign"];
              }
            } else if (paramLast["utm_campaign"] == "undefined" || typeof paramLast["utm_campaign"] == "undefined") {
              let indexHref = ""
              if (langPage == "fr") {
                indexHref = "./list.html?lang=fr"
              } else if (langPage == "es") {
                indexHref = "./list.html?lang=es"
              } else if (langPage == "en") {
                indexHref = "./list.html?lang=en"
              } else if (langPage == "pt") {
                indexHref = "./list.html?lang=pt"
              } else {
                indexHref = "./list.html?lang=en"
              }
              window.location.href = indexHref
            }
          }

          // 初始化数据
          initFunctionForPage();
          const adContainers = document.querySelectorAll('.adsbygoogle');
          adContainers.forEach((adContainer, index) => {
            (adsbygoogle = window.adsbygoogle || []).push({});  // 推送广告

            // 定时检查广告容器是否已加载广告
            const checkAdStatus = setInterval(() => {
              if (adContainer.innerHTML.trim()) {
                //console.log(`广告容器 ${index + 1} 已加载广告`);
                clearInterval(checkAdStatus);  // 停止检查
              } else {
                //console.log(`广告容器 ${index + 1} 尚未加载广告，重新加载`);
                (adsbygoogle = window.adsbygoogle || []).push({});  // 重新推送广告
              }
            }, 1000);  // 每1秒检查一次
          });
        });
      });
    });
  }
</script>

<script src="./testname/js/footJs.js"></script>
<script src="./testname/js/headerJs.js"></script>
</body>
</html>